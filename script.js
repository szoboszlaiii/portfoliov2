const translations = {
    en: {
        navbar: {
            about: "About Me",
            services: "Services",
            contact: "Contact"
        },
        header: "Full-stack Web Developer and more",
        introduction: {
            greeting: "Welcome to my website!",
            name: "My name is István Szoboszlai, and I'm a programmer with 4 years of experience in development.",
            expertise: "Over the years, I have gained expertise in:",
            expertiseList: [
                "Designing simple websites",
                "Developing complex enterprise management systems for factories",
                "Creating applications for tablets and other platforms",
                "Designing and managing databases to ensure efficient and reliable system performance"
            ],
            perseverance: "Perseverance is essential in my work: if a problem arises, I keep looking for a solution until it fully meets the user's requirements.",
            goal: "My goal is to create solutions that excel not only technically but also from a user perspective.",
            callToAction: "If you're looking for a reliable and dedicated developer, feel free to reach out to me!"
        },
        about: "",
        services: "Services",
        contact: "If you would like to get in touch, please use the form below or reach out via email or phone:",
        form: {
            name: "Name:",
            email: "Email:",
            message: "Message:",
            send: "Send"
        },
        phone: "Phone:",
        serviceDescriptions: [
            {
                title: "Landing Page Creation",
                description: "Make a stunning first impression! We design custom, fast-loading, and mobile-friendly landing pages tailored to your business needs.",
                features: [
                    "Eye-catching design: Modern visuals that captivate your audience.",
                    "Fast performance: Technical optimization for maximum speed.",
                    "Goal-oriented layout: A structure and content designed to meet customer needs."
                ]
            },
            {
                title: "Landing Page with Admin Panel (Powered by Strapi)",
                description: "Take full control of your website! We offer custom-designed landing pages with a built-in admin panel and database, enabling you to easily modify your content anytime. The admin panel is powered by Strapi, a modern, fast, and flexible content management system.",
                features: [
                    "User-friendly admin interface: Strapi's intuitive interface makes content updates simple, even without technical skills.",
                    "Flexible content management: Effortlessly update text, images, or even product catalogs.",
                    "Secure database: A stable and reliable backend ensures your data's safety.",
                    "Scalability and customization: Strapi allows the admin panel to be fully tailored to your needs."
                ]
            },
            {
                title: "Event Management and Booking System",
                description: "Simplify and automate event organization or appointment scheduling. We create custom web applications tailored to your business needs.",
                features: [
                    "Interactive event calendar: An easy-to-use interface for adding, editing, and managing events.",
                    "Booking functionality: Automated appointment booking with notifications and confirmations.",
                    "Mobile-friendly design: Accessible and seamless across all devices.",
                    "Data management: Secure database for storing participant information."
                ]
            }
        ],
        tools: {
            title: "Tools I Use",
            description: "Throughout my career, I have worked with a variety of tools and technologies that help me deliver high-quality software solutions. Here are some of the key tools I use:",
            list: [
                "Angular",
                ".NET",
                "MSSQL",
                "Oracle",
                "Strapi",
                "Next.js",
                "Ionic Framework for Angular"
            ]
        },
        emailSent: 'Email sent successfully!'
    },
    hu: {
        navbar: {
            about: "Rólam",
            services: "Szolgáltatások",
            contact: "Kapcsolat"
        },
        header: "Full-stack webfejlesztő és még több",
        introduction: {
            greeting: "Üdvözöllek az oldalamon!",
            name: "Szoboszlai István vagyok, programozó, és immár 4 éve foglalkozom fejlesztéssel.",
            expertise: "Az évek során tapasztalatot szereztem:",
            expertiseList: [
                "Egyszerű weboldalak tervezésében",
                "Komplex vállalatirányítási rendszerek fejlesztésében gyárak számára",
                "Tabletes és más platformokon futó applikációk létrehozásában",
                "Adatbázisok tervezésében és kezelésében, amelyek biztosítják a rendszerek hatékony és megbízható működését"
            ],
            perseverance: "A munkám során elengedhetetlen számomra a kitartás: ha egy probléma merül fel, addig keresem a megoldást, amíg az a felhasználó igényeinek teljes mértékben megfelel.",
            goal: "Célom, hogy olyan megoldásokat hozzak létre, amelyek nemcsak technikailag, hanem felhasználói szempontból is kiválóan működnek.",
            callToAction: "Ha egy megbízható és elkötelezett fejlesztőt keresel, keress meg bátran!"
        },
        about: "",
        services: "Szolgáltatások",
        contact: "Ha szeretne kapcsolatba lépni velem, kérem, használja az alábbi űrlapot, vagy lépjen kapcsolatba e-mailben vagy telefonon:",
        form: {
            name: "Név:",
            email: "Email:",
            message: "Üzenet:",
            send: "Küldés"
        },
        phone: "Telefon:",
        serviceDescriptions: [
            {
                title: "Landing Page Készítés",
                description: "Hozzon létre egy lenyűgöző első benyomást! Egyedi tervezésű, gyorsan betöltődő és mobilbarát landing page-eket készítek, amelyek tökéletesen igazodnak az Ön vállalkozásához.",
                features: [
                    "Figyelemfelkeltő design: Modern megjelenés, amely megragadja látogatóit.",
                    "Gyors betöltés: Technikai optimalizáció a maximális teljesítmény érdekében.",
                    "Célorientált kialakítás: Az ügyfelek igényeire szabott struktúra és tartalom."
                ]
            },
            {
                title: "Landing Page Admin Panellel (Strapi alapú)",
                description: "Teljes körű kontroll az Ön weboldala felett! Egyedi tervezésű landing page-eket kínálunk beépített admin panellel és adatbázissal, hogy Ön bármikor könnyedén módosíthassa weboldalának tartalmát. Az admin panel alapját a Strapi biztosítja, amely egy modern, gyors és rugalmas tartalomkezelő rendszer.",
                features: [
                    "Felhasználóbarát admin felület: A Strapi intuitív kezelőfelülete lehetővé teszi, hogy technikai tudás nélkül is könnyedén módosítson tartalmakat.",
                    "Rugalmas tartalomkezelés: Egyszerű frissítések szövegekhez, képekhez vagy akár termékkatalógusokhoz.",
                    "Biztonságos adatbázis: Stabil és megbízható háttérrendszer az adatai számára.",
                    "Skálázhatóság és testreszabhatóság: A Strapi lehetővé teszi, hogy az admin panel teljes mértékben az Ön igényeire legyen szabva."
                ]
            },
            {
                title: "Eseménykezelő és Foglalási Rendszer",
                description: "Segítünk egyszerűsíteni és automatizálni az események szervezését vagy az időpontok foglalását. Egyedi, igényekre szabott webes alkalmazásokat készítek, amelyek tökéletesen illeszkednek vállalkozásához.",
                features: [
                    "Interaktív eseménynaptár: Könnyen használható felület események hozzáadására, módosítására és kezelésére.",
                    "Foglalási funkció: Automatikus időpontfoglalás értesítésekkel és visszaigazolásokkal.",
                    "Mobilbarát kialakítás: Minden eszközön elérhető és zökkenőmentesen használható.",
                    "Adatkezelés: Biztonságos adatbázis a résztvevők adatainak tárolásához."
                ]
            }
        ],
        tools: {
            title: "Eszközök, amelyeket használok",
            description: "Pályafutásom során számos eszközzel és technológiával dolgoztam, amelyek segítenek magas színvonalú szoftvermegoldások szállításában. Íme néhány kulcsfontosságú eszköz, amelyet használok:",
            list: [
                "Angular",
                ".NET",
                "MSSQL",
                "Oracle",
                "Strapi",
                "Next.js",
                "Ionic keretrendszer Angularhoz"
            ]
        },
        emailSent: 'Az e-mail sikeresen elküldve!'
    }
};

function updateLanguage(language) {
    document.querySelector('nav ul li a[href="#about"]').textContent = translations[language].navbar.about;
    document.querySelector('nav ul li a[href="#services"]').textContent = translations[language].navbar.services;
    document.querySelector('nav ul li a[href="#contact"]').textContent = translations[language].navbar.contact;
    document.querySelector('header p').textContent = translations[language].header;
    document.querySelector('#about h2').textContent = translations[language].navbar.about;
    const introductionElements = document.querySelectorAll('#about p');
    introductionElements[0].textContent = translations[language].introduction.greeting;
    introductionElements[1].textContent = translations[language].introduction.name;
    introductionElements[2].textContent = translations[language].introduction.expertise;
    const expertiseListElements = document.querySelectorAll('#about ul li');
    expertiseListElements.forEach((element, index) => {
        element.textContent = translations[language].introduction.expertiseList[index];
    });
    introductionElements[3].textContent = translations[language].introduction.perseverance;
    introductionElements[4].textContent = translations[language].introduction.goal;
    introductionElements[5].textContent = translations[language].introduction.callToAction;
    document.querySelector('#services h2').textContent = translations[language].services;
    document.querySelector('#contact h2').textContent = translations[language].navbar.contact;
    document.querySelector('#contact p').textContent = translations[language].contact;
    document.querySelector('label[for="name"]').textContent = translations[language].form.name;
    document.querySelector('label[for="email"]').textContent = translations[language].form.email;
    document.querySelector('label[for="message"]').textContent = translations[language].form.message;
    document.querySelector('button[type="submit"]').textContent = translations[language].form.send;
    document.getElementById('phone-label').textContent = `${translations[language].phone} +36 30 446 4794`;
    document.querySelectorAll('.service').forEach((serviceElement, index) => {
        const serviceData = translations[language].serviceDescriptions[index];
        serviceElement.querySelector('h3').textContent = serviceData.title;
        serviceElement.querySelector('p').textContent = serviceData.description;
        const ulElement = serviceElement.querySelector('ul');
        ulElement.innerHTML = '';
        serviceData.features.forEach(feature => {
            const li = document.createElement('li');
            li.textContent = feature;
            ulElement.appendChild(li);
        });
    });
    document.querySelector('#tools h2').textContent = translations[language].tools.title;
    document.querySelector('#tools p').textContent = translations[language].tools.description;
    const toolListElements = document.querySelectorAll('#tools ul li');
    toolListElements.forEach((element, index) => {
        element.textContent = translations[language].tools.list[index];
    });
}

function showAlert(message) {
    const alertBox = document.createElement('div');
    alertBox.className = 'alert-box';
    alertBox.textContent = message;
    document.body.appendChild(alertBox);

    setTimeout(() => {
        alertBox.classList.add('fade-out');
        setTimeout(() => alertBox.remove(), 500);
    }, 3000);
}

function getCurrentLanguage() {
    return document.getElementById('language-switcher').value;
}

document.addEventListener('DOMContentLoaded', function() {
    updateLanguage('hu');
    document.getElementById('header-subtitle').textContent = translations['hu'].header;
});

document.getElementById('language-switcher').addEventListener('change', function() {
    updateLanguage(this.value);
    document.getElementById('header-subtitle').textContent = translations[this.value].header;
});

document.getElementById('contact-form').addEventListener('submit', function(event) {
    event.preventDefault();

    const name = document.getElementById('name').value;
    const email = document.getElementById('email').value;
    const message = document.getElementById('message').value;

    fetch('https://portfoliobackend-production-ff9a.up.railway.app/send-email', {
        method: 'POST',
        headers: {
            'Content-Type': 'application/json'
        },
        body: JSON.stringify({ name, email, message })
    })
    .then(response => response.text())
    .then(data => {
        const language = getCurrentLanguage();
        showAlert(translations[language].emailSent);
    })
    .catch(error => {
        console.error('Error:', error);
    });
});

let currentSlideIndex = 0;

function currentSlide(index) {
    showSlide(index);
}

function showSlide(index) {
    const slides = document.querySelectorAll('.service');
    const dots = document.querySelectorAll('.dot');

    if (index >= slides.length) {
        currentSlideIndex = 0;
    } else if (index < 0) {
        currentSlideIndex = slides.length - 1;
    } else {
        currentSlideIndex = index;
    }

    slides.forEach((slide, i) => {
        slide.style.display = 'none';
        slide.classList.remove('active');
        if (i === currentSlideIndex) {
            slide.style.display = 'block';
            setTimeout(() => slide.classList.add('active'), 10); // Add a slight delay to trigger animation
        }
    });

    dots.forEach((dot, i) => {
        dot.className = dot.className.replace(' active', '');
        if (i === currentSlideIndex) {
            dot.className += ' active';
        }
    });
}

// Initialize the first slide
showSlide(currentSlideIndex);

document.querySelectorAll('.dot').forEach((dot, index) => {
    dot.addEventListener('click', function() {
        currentSlide(index);
    });
});

setInterval(function() {
    showSlide(currentSlideIndex + 1);
}, 30000);

document.querySelectorAll('.service').forEach((project, index) => {
    project.addEventListener('click', function() {
        currentSlide(index + 1);
    });
});

function toggleMenu() {
    const navbar = document.getElementById('navbar');
    navbar.classList.toggle('active');
}

document.getElementById('scrollToTop').addEventListener('click', function() {
    window.scrollTo({
        top: 0,
        behavior: 'smooth'
    });
});

document.querySelectorAll('nav a').forEach(anchor => {
    anchor.addEventListener('click', function(e) {
        e.preventDefault();
        const targetId = this.getAttribute('href');
        const targetElement = document.querySelector(targetId);
        if (targetElement) {
            targetElement.scrollIntoView({
                behavior: 'smooth'
            });
            // Add a temporary class for animation
            targetElement.classList.add('highlight');
            setTimeout(() => {
                targetElement.classList.remove('highlight');
            }, 1000); // Duration of the highlight effect
        }
    });
});

document.getElementById('menu-toggle').addEventListener('click', toggleMenu);
